--
-- Script was generated by Devart dbForge Studio 2020 for MySQL, Version 9.0.689.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 07.12.2021 15:03:09
-- Server version: 8.0.27
-- Client version: 4.1
--

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

--
-- Set default database
--
USE gost;

--
-- Drop table `recepcia`
--
DROP TABLE IF EXISTS recepcia;

--
-- Drop table `klient`
--
DROP TABLE IF EXISTS klient;

--
-- Drop table `nomer`
--
DROP TABLE IF EXISTS nomer;

--
-- Drop table `kateg`
--
DROP TABLE IF EXISTS kateg;

--
-- Set default database
--
USE gost;

--
-- Create table `kateg`
--
CREATE TABLE kateg (
  id_kat int NOT NULL AUTO_INCREMENT,
  kateg tinytext DEFAULT NULL,
  PRIMARY KEY (id_kat)
)
ENGINE = INNODB,
AUTO_INCREMENT = 27,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create table `nomer`
--
CREATE TABLE nomer (
  nomer_nomera int NOT NULL AUTO_INCREMENT,
  kateg int DEFAULT NULL,
  komn int DEFAULT NULL,
  etag int DEFAULT NULL,
  balcon tinytext DEFAULT NULL,
  zan varchar(255) DEFAULT NULL,
  stoimost int DEFAULT NULL,
  PRIMARY KEY (nomer_nomera)
)
ENGINE = INNODB,
AUTO_INCREMENT = 112,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create index `FK_nomer_zanyatost_status` on table `nomer`
--
ALTER TABLE nomer
ADD INDEX FK_nomer_zanyatost_status (zan);

--
-- Create foreign key
--
ALTER TABLE nomer
ADD CONSTRAINT FK_nomer_kateg_id_kat FOREIGN KEY (kateg)
REFERENCES kateg (id_kat);

--
-- Create table `klient`
--
CREATE TABLE klient (
  seria int NOT NULL,
  nomer_pas int NOT NULL,
  fam tinytext DEFAULT NULL,
  name tinytext DEFAULT NULL,
  otch tinytext DEFAULT NULL,
  dateroz date DEFAULT NULL,
  address varchar(255) DEFAULT NULL,
  PRIMARY KEY (nomer_pas)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create table `recepcia`
--
CREATE TABLE recepcia (
  nomer_nomera int NOT NULL AUTO_INCREMENT,
  kod_kli int DEFAULT NULL,
  data_in date DEFAULT NULL,
  data_out date DEFAULT NULL,
  fam_kli tinytext DEFAULT NULL,
  PRIMARY KEY (nomer_nomera)
)
ENGINE = INNODB,
AUTO_INCREMENT = 103,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create foreign key
--
ALTER TABLE recepcia
ADD CONSTRAINT FK_recepcia_klient_nomer_pas FOREIGN KEY (kod_kli)
REFERENCES klient (nomer_pas);

--
-- Create foreign key
--
ALTER TABLE recepcia
ADD CONSTRAINT FK_recepcia_nomer_nomer_nomera FOREIGN KEY (nomer_nomera)
REFERENCES nomer (nomer_nomera);

-- 
-- Dumping data for table kateg
--
INSERT INTO kateg VALUES
(25, 'Люкс'),
(26, 'Стандарт');

-- 
-- Dumping data for table nomer
--
INSERT INTO nomer VALUES
(101, 25, 3, 2, 'да', 'Занято', 5000),
(102, 26, 1, 2, 'нет', 'Занято', 600),
(103, 25, 2, 2, 'да', 'Свободно', 1500),
(104, 25, 2, 2, 'да', 'Свободно', 2000),
(105, 25, 3, 2, 'да', 'Свободно', 2500),
(106, 26, 1, 3, 'нет', 'Свободно', 1000),
(107, 26, 2, 3, 'да', 'Свободно', 1600),
(108, 26, 2, 3, 'да', 'Свободно', 1500),
(109, 26, 1, 3, 'нет', 'Свободно', 1000),
(110, 26, 1, 3, 'нет ', 'Свободно', 1000);

-- 
-- Dumping data for table klient
--
INSERT INTO klient VALUES
(4321, 98765, 'Иванова', 'Людмила', 'Ивановна', '1999-01-02', 'Коковихина 2'),
(1234, 567890, 'Иванов', 'Иван', 'Иванович', '2000-02-01', 'Комсомольская 6');

-- 
-- Dumping data for table recepcia
--
INSERT INTO recepcia VALUES
(101, 98765, '2016-12-01', '2016-12-12', 'Иванов'),
(102, 567890, '2021-04-05', '2021-04-25', 'Иванова');

-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS = @OLD_FOREIGN_KEY_CHECKS */;